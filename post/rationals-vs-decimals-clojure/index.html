<!doctype html>











































<html
  class="not-ready lg:text-base"
  style="--bg: #fff"
  lang="en-us"
>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />
  <meta name="google-site-verification" content="G_45CPokMqh_LLvc0RdyiWWVQq9G0nvUhl53pa2ra-g" />

  
  <title>Rationals vs Decimals in Clojure - Kiran Gangadharan</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="
Use rationals if accuracy is your main concern. For example, operations on
decimals are not associative.



1
2
3
4


(let [a 1.0e50
      b -1.0e50
      c 17.0e00]
  (= (&#43; (&#43; a b) c) (&#43; a (&#43; b c)))) ; =&gt; false


From the above example, one can infer that decimals are subjected to Floating
Point corruption. You can find more examples here.

Rationals are slower in terms of operations on them when compared to
decimals. There is an overhead involved when doing operations on rationals.
" />
  <meta name="author" content="Kiran Gangadharan" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="http://kirang.in/main.min.css" />

  
  
  
  
  
  <link rel="preload" as="image" href="http://kirang.in/theme.svg" />

  
  
  
  
  

  
  
  <link rel="preload" as="image" href="http://kirang.in/twitter.svg" />
  
  <link rel="preload" as="image" href="http://kirang.in/github.svg" />
  
  <link rel="preload" as="image" href="http://kirang.in/linkedin.svg" />
  
  <link rel="preload" as="image" href="http://kirang.in/rss.svg" />
  
  <link rel="preload" as="image" href="http://kirang.in/goodreads.svg" />
  
  

  
  
  <script
    defer
    src="http://kirang.in/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  
  

  
  <link rel="icon" href="http://kirang.in/favicon_32x32.png" />
  <link rel="apple-touch-icon" href="http://kirang.in/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.146.5">

  
  
  
  
  
  
  <meta itemprop="name" content="Rationals vs Decimals in Clojure">
  <meta itemprop="description" content="Use rationals if accuracy is your main concern. For example, operations on decimals are not associative. 1 2 3 4 (let [a 1.0e50 b -1.0e50 c 17.0e00] (= (&#43; (&#43; a b) c) (&#43; a (&#43; b c)))) ; =&gt; false From the above example, one can infer that decimals are subjected to Floating Point corruption. You can find more examples here.
Rationals are slower in terms of operations on them when compared to decimals. There is an overhead involved when doing operations on rationals.">
  <meta itemprop="datePublished" content="2016-01-30T00:00:00+05:30">
  <meta itemprop="dateModified" content="2016-01-30T00:00:00+05:30">
  <meta itemprop="wordCount" content="85">
  <meta itemprop="keywords" content="Clojure">
  
  <meta property="og:url" content="http://kirang.in/post/rationals-vs-decimals-clojure/">
  <meta property="og:site_name" content="Kiran Gangadharan">
  <meta property="og:title" content="Rationals vs Decimals in Clojure">
  <meta property="og:description" content="Use rationals if accuracy is your main concern. For example, operations on decimals are not associative. 1 2 3 4 (let [a 1.0e50 b -1.0e50 c 17.0e00] (= (&#43; (&#43; a b) c) (&#43; a (&#43; b c)))) ; =&gt; false From the above example, one can infer that decimals are subjected to Floating Point corruption. You can find more examples here.
Rationals are slower in terms of operations on them when compared to decimals. There is an overhead involved when doing operations on rationals.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2016-01-30T00:00:00+05:30">
    <meta property="article:modified_time" content="2016-01-30T00:00:00+05:30">
    <meta property="article:tag" content="Clojure">

  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Rationals vs Decimals in Clojure">
  <meta name="twitter:description" content="Use rationals if accuracy is your main concern. For example, operations on decimals are not associative. 1 2 3 4 (let [a 1.0e50 b -1.0e50 c 17.0e00] (= (&#43; (&#43; a b) c) (&#43; a (&#43; b c)))) ; =&gt; false From the above example, one can infer that decimals are subjected to Floating Point corruption. You can find more examples here.
Rationals are slower in terms of operations on them when compared to decimals. There is an overhead involved when doing operations on rationals.">

  
  
  
  <link rel="canonical" href="http://kirang.in/post/rationals-vs-decimals-clojure/" />
  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[4.5rem] max-w-3xl px-8 lg:justify-center">
  <div class="relative z-50 mr-auto flex items-center">
    <a
      class="-translate-x-[1px] -translate-y-[1px] text-2xl font-semibold"
      href="http://kirang.in/"
      >Kiran Gangadharan</a
    >
    <div
      class="btn-dark text-[0] ml-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 -mr-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#fff'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    
    <nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6">
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/about/"
        >About</a
      >
      
    </nav>
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 dark:invert lg:ml-12 lg:mt-0 lg:items-center lg:space-x-6"
    >
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./twitter.svg)"
        href="https://twitter.com/kirang89"
        target="_blank"
        rel="me"
      >
        twitter
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/kirang89"
        target="_blank"
        rel="me"
      >
        github
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./linkedin.svg)"
        href="https://linkedin.com/in/kirang89"
        target="_blank"
        rel="me"
      >
        linkedin
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./rss.svg)"
        href="http://kirang.in/index.xml"
        target="_blank"
        rel="alternate"
      >
        rss
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./goodreads.svg)"
        href="https://goodreads.com/kirang"
        target="_blank"
        rel="me"
      >
        goodreads
      </a>
      
    </nav>
    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-3xl px-8 pb-16 pt-12 dark:prose-invert"
    >
      

<article>
  <header class="mb-16">
    <h1 class="!my-0 pb-2.5">Rationals vs Decimals in Clojure</h1>

    
    <div class="text-sm antialiased opacity-60">
      
      <time>Jan 30, 2016</time>
      
      
      
      
    </div>
    
  </header>

  <section><ul>
<li>Use rationals if accuracy is your main concern. For example, operations on
decimals are not associative.</li>
</ul>
<div class="highlight"><div style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#838ba7">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#838ba7">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#838ba7">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#838ba7">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(<span style="color:#ca9ee6">let </span>[<span style="color:#f2d5cf">a</span> <span style="color:#ef9f76">1.0</span><span style="color:#f2d5cf">e50</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f2d5cf">b</span> <span style="color:#ef9f76">-1.0</span><span style="color:#f2d5cf">e50</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f2d5cf">c</span> <span style="color:#ef9f76">17.0</span><span style="color:#f2d5cf">e00</span>]
</span></span><span style="display:flex;"><span>  (<span style="color:#99d1db">= </span>(<span style="color:#99d1db">+ </span>(<span style="color:#99d1db">+ </span><span style="color:#f2d5cf">a</span> <span style="color:#f2d5cf">b</span>) <span style="color:#f2d5cf">c</span>) (<span style="color:#99d1db">+ </span><span style="color:#f2d5cf">a</span> (<span style="color:#99d1db">+ </span><span style="color:#f2d5cf">b</span> <span style="color:#f2d5cf">c</span>)))) <span style="color:#737994;font-style:italic">; =&gt; false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>From the above example, one can infer that decimals are subjected to Floating
Point corruption. You can find more examples <a href="https://stackoverflow.com/questions/2100490/floating-point-inaccuracy-examples">here</a>.</p>
<ul>
<li>Rationals are slower in terms of operations on them when compared to
decimals. There is an overhead involved when doing operations on rationals.</li>
</ul>
</section>

  
  
  <footer class="mt-12 flex flex-wrap">
     
    <a
      class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]"
      href="http://kirang.in/tags/clojure"
      >clojure</a
    >
    
  </footer>
  

  
  
  
  
  <nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]">
    
    <a
      class="flex w-1/2 items-center rounded-l-md p-6 pr-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]"
      href="http://kirang.in/post/implementing-norvigs-spelling-corrector-in-clojure/"
      ><span class="mr-1.5">←</span><span>Implementing Norvig&#39;s Spelling Corrector in Clojure</span></a
    >
    
    
    <a
      class="ml-auto flex w-1/2 items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]"
      href="http://kirang.in/post/books_read_2015/"
      ><span>Books I read in 2015</span><span class="ml-1.5">→</span></a
    >
    
  </nav>
  
  

  
  

  
  

  


  
  <div class="giscus mt-24"></div>
  <script
    src="https://giscus.app/client.js"
    data-repo="kirang89/kirang.in"
    data-repo-id="MDEwOlJlcG9zaXRvcnkxNjU2NzY2MTY="
    data-category="General"
    data-category-id="DIC_kwDOCeAGSM4Cfo4J"
    data-mapping="title"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="light"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async
  ></script>
  
</article>


    </main>

    <footer
  class="opaco mx-auto flex h-[4.5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"
>
  <div class="mr-auto">
    &copy; 2025
    <a class="link" href="http://kirang.in/">Kiran Gangadharan</a>
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >Powered by Hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >✎ Paper</a
  >
</footer>

  </body>
</html>
