<!doctype html>







































<html
  class="not-ready lg:text-base"
  style="--bg: #fff"
  lang="en-us"
>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />
  <meta name="google-site-verification" content="G_45CPokMqh_LLvc0RdyiWWVQq9G0nvUhl53pa2ra-g" />

  
  <title>Setting up Org-mode to run Clojure code - Kiran Gangadharan</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="I wanted to be able to store interesting clojure snippets in an org file and then execute and play with them without leaving the file. In this post, I&rsquo;ll illustrate the steps needed to achieve the same. I am assuming that you&rsquo;ve already setup Emacs with org-mode and cider.
First, start by installing the ob-clojure package:
M-x package-install ob-clojure or simply do so with use-package:
1 (use-package ob-clojure) Now we need to let org-mode know to use a cider repl to execute the snippets in our file:" />
  <meta name="author" content="Kiran Gangadharan" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="http://kirang.in/main.min.css" />

  
  
  
  
  
  <link rel="preload" as="image" href="http://kirang.in/theme.svg" />

  
  
  
  
  

  
  
  <link rel="preload" as="image" href="http://kirang.in/twitter.svg" />
  
  <link rel="preload" as="image" href="http://kirang.in/github.svg" />
  
  <link rel="preload" as="image" href="http://kirang.in/linkedin.svg" />
  
  <link rel="preload" as="image" href="http://kirang.in/rss.svg" />
  
  

  
  
  <script
    defer
    src="http://kirang.in/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  
  

  
  <link rel="icon" href="http://kirang.in/favicon_32x32.png" />
  <link rel="apple-touch-icon" href="http://kirang.in/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.126.1">

  
  
  
  
  


  
  
  <meta itemprop="name" content="Setting up Org-mode to run Clojure code">
  <meta itemprop="description" content="I wanted to be able to store interesting clojure snippets in an org file and then execute and play with them without leaving the file. In this post, I’ll illustrate the steps needed to achieve the same. I am assuming that you’ve already setup Emacs with org-mode and cider.
First, start by installing the ob-clojure package:
M-x package-install ob-clojure or simply do so with use-package:
1 (use-package ob-clojure) Now we need to let org-mode know to use a cider repl to execute the snippets in our file:">
  <meta itemprop="datePublished" content="2016-07-18T00:00:00+05:30">
  <meta itemprop="dateModified" content="2016-07-18T00:00:00+05:30">
  <meta itemprop="wordCount" content="212">
  <meta itemprop="keywords" content="Org-Mode,Emacs,Clojure">
  
  <meta property="og:url" content="http://kirang.in/post/setting-up-org-mode-to-run-clojure-code/">
  <meta property="og:site_name" content="Kiran Gangadharan">
  <meta property="og:title" content="Setting up Org-mode to run Clojure code">
  <meta property="og:description" content="I wanted to be able to store interesting clojure snippets in an org file and then execute and play with them without leaving the file. In this post, I’ll illustrate the steps needed to achieve the same. I am assuming that you’ve already setup Emacs with org-mode and cider.
First, start by installing the ob-clojure package:
M-x package-install ob-clojure or simply do so with use-package:
1 (use-package ob-clojure) Now we need to let org-mode know to use a cider repl to execute the snippets in our file:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2016-07-18T00:00:00+05:30">
    <meta property="article:modified_time" content="2016-07-18T00:00:00+05:30">
    <meta property="article:tag" content="Org-Mode">
    <meta property="article:tag" content="Emacs">
    <meta property="article:tag" content="Clojure">

  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Setting up Org-mode to run Clojure code">
  <meta name="twitter:description" content="I wanted to be able to store interesting clojure snippets in an org file and then execute and play with them without leaving the file. In this post, I’ll illustrate the steps needed to achieve the same. I am assuming that you’ve already setup Emacs with org-mode and cider.
First, start by installing the ob-clojure package:
M-x package-install ob-clojure or simply do so with use-package:
1 (use-package ob-clojure) Now we need to let org-mode know to use a cider repl to execute the snippets in our file:">

  
  
  
  <link rel="canonical" href="http://kirang.in/post/setting-up-org-mode-to-run-clojure-code/" />
  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[4.5rem] max-w-3xl px-8 lg:justify-center">
  <div class="relative z-50 mr-auto flex items-center">
    <a
      class="-translate-x-[1px] -translate-y-[1px] text-2xl font-semibold"
      href="http://kirang.in/"
      >Kiran Gangadharan</a
    >
    <div
      class="btn-dark text-[0] ml-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 -mr-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#fff'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    
    <nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6">
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/about/"
        >About</a
      >
      
    </nav>
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 dark:invert lg:ml-12 lg:mt-0 lg:items-center lg:space-x-6"
    >
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./twitter.svg)"
        href="https://twitter.com/kirang89"
        target="_blank"
        rel="me"
      >
        twitter
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/kirang89"
        target="_blank"
        rel="me"
      >
        github
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./linkedin.svg)"
        href="https://linkedin.com/in/kirang89"
        target="_blank"
        rel="me"
      >
        linkedin
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./rss.svg)"
        href="http://kirang.in/index.xml"
        target="_blank"
        rel="alternate"
      >
        rss
      </a>
      
    </nav>
    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-3xl px-8 pb-16 pt-12 dark:prose-invert"
    >
      

<article>
  <header class="mb-16">
    <h1 class="!my-0 pb-2.5">Setting up Org-mode to run Clojure code</h1>

    
    <div class="text-sm antialiased opacity-60">
      
      <time>Jul 18, 2016</time>
      
      
      
      
    </div>
    
  </header>

  <section><p>I wanted to be able to store interesting clojure snippets in an org file and
then execute and play with them without leaving the
file. In this post, I&rsquo;ll illustrate the steps needed to achieve the same. I am
assuming that you&rsquo;ve already setup Emacs with org-mode and cider.</p>
<p>First, start by installing the <code>ob-clojure</code> package:</p>
<pre tabindex="0"><code>M-x package-install
ob-clojure
</code></pre><p>or simply do so with <code>use-package</code>:</p>
<div class="highlight"><div style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#838ba7">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span>(<span style="color:#99d1db">use-package</span> <span style="color:#f2d5cf">ob-clojure</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now we need to let org-mode know to use a cider repl to execute the snippets in
our file:</p>
<div class="highlight"><div style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#838ba7">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#838ba7">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#c6d0f5;background-color:#303446;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span>(<span style="color:#99d1db">require</span> <span style="color:#a6d189">&#39;cider</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#99d1db">setq</span> <span style="color:#f2d5cf">org-babel-clojure-backend</span> <span style="color:#a6d189">&#39;cider</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>We&rsquo;re done with the setup. Start a new cider repl connection by running:</p>
<pre tabindex="0"><code>M-x cider-jack-in
</code></pre><p>Once the repl has successfully launched, create a new org file and add the
following code block:</p>
<pre tabindex="0"><code>#+BEGIN_SRC clojure
(+ 1 2 3 4)
#+END_SRC
</code></pre><p>Hit <code>C-c</code> from within a code block to evaluate it. You should now see the result
displayed like so:</p>
<pre tabindex="0"><code>#+RESULTS:
: 10
</code></pre><p>If you don&rsquo;t want the results to be displayed in the file itself, add <code>:results silent</code> after the begin header:</p>
<pre tabindex="0"><code>#+BEGIN_SRC clojure :results silent
(+ 1 2 3 4)
#+END_SRC
</code></pre><p>You should now be able to see the result displayed in the minibuffer
instead.</p>
<p>That&rsquo;s all there is to it. Have fun with literate programming :)</p>
</section>

  
  
  <footer class="mt-12 flex flex-wrap">
     
    <a
      class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]"
      href="http://kirang.in/tags/org-mode"
      >org-mode</a
    >
     
    <a
      class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]"
      href="http://kirang.in/tags/emacs"
      >emacs</a
    >
     
    <a
      class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]"
      href="http://kirang.in/tags/clojure"
      >clojure</a
    >
    
  </footer>
  

  
  
  
  
  <nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]">
    
    <a
      class="flex w-1/2 items-center rounded-l-md p-6 pr-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]"
      href="http://kirang.in/post/stuff-i-did-in-2016/"
      ><span class="mr-1.5">←</span><span>Stuff I did in 2016</span></a
    >
    
    
    <a
      class="ml-auto flex w-1/2 items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]"
      href="http://kirang.in/post/eshell-prompt-setup/"
      ><span>My eshell prompt setup</span><span class="ml-1.5">→</span></a
    >
    
  </nav>
  
  

  
  

  
  

  


  
  <div class="giscus mt-24"></div>
  <script
    src="https://giscus.app/client.js"
    data-repo="kirang89/kirang.in"
    data-repo-id="MDEwOlJlcG9zaXRvcnkxNjU2NzY2MTY="
    data-category="General"
    data-category-id="DIC_kwDOCeAGSM4Cfo4J"
    data-mapping="title"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="light"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async
  ></script>
  
</article>


    </main>

    <footer
  class="opaco mx-auto flex h-[4.5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"
>
  <div class="mr-auto">
    &copy; 2024
    <a class="link" href="http://kirang.in/">Kiran Gangadharan</a>
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >Powered by Hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >✎ Paper</a
  >
</footer>

  </body>
</html>
